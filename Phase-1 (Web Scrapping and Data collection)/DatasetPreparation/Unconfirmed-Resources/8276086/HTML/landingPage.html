<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Fox News World RSS Feed  - livisaing.com
  </title>
  <style>
   body {
            font-family: Arial, sans-serif;
            background-color: #f4f6f9;
            color: #333;
            margin: 0;
            padding: 0;
        }

        .container {
            width: 80%;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            margin: 2rem 0;
        }

        .news-item {
            background-color: white;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
        }

        .news-item h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .news-item a {
            color: #1a73e8;
            text-decoration: none;
        }

        .news-item a:hover {
            text-decoration: underline;
        }

        .news-item p {
            font-size: 1rem;
            margin-bottom: 0;
        }
  </style>
 </head>
 <body>
  <div class="container">
   <h1>
    Fox News World RSS Feed
   </h1>
   <a href="/">
    Back to the main page
   </a>
   <br/>
   <h6 id="msg">
   </h6>
   <hr/>
   <div id="news-items">
   </div>
  </div>
  <script>
   const fetchRSSFeed = async (url) => {
        const response = await fetch(url);
        const text = await response.text();
        const parser = new DOMParser();
        const xml = parser.parseFromString(text, "application/xml");
        return xml;
    };

    const displayNewsItems = (xml) => {
        const newsItemsContainer = document.getElementById("news-items");

        const items = xml.querySelectorAll("item");

        items.forEach((item) => {
            const titleElement = item.querySelector("title");
            const guidElement = item.querySelector("guid");
            const descriptionElement = item.querySelector("description");
            const contentElement = item.querySelector("content\\:encoded");

            const title = titleElement ? titleElement.textContent : "Untitled";
            const guid = guidElement ? guidElement.textContent : "#";
            const description = descriptionElement ? descriptionElement.textContent : "No description available.";
            const content = contentElement ? contentElement.textContent : "No content available.";

            const newsItem = document.createElement("div");
            newsItem.classList.add("news-item");

            newsItem.innerHTML = `
            <h2><a href="${guid}" target="_blank">${title}</a></h2>
            <p>${description}</p>
            <div>${content}</div>
        `;

            newsItemsContainer.appendChild(newsItem);
        });
    };

    (async () => {
        const foxNewsWorldRSSFeed = "https://feeds.foxnews.com/foxnews/world";
        const xml = await fetchRSSFeed(foxNewsWorldRSSFeed);
        displayNewsItems(xml);

        document.getElementById("msg").textContent = new URLSearchParams(window.location.search).get("q");

    })();
  </script>
 </body>
</html>
