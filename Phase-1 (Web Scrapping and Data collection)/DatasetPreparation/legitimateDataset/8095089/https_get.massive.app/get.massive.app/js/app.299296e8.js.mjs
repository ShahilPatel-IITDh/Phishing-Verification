(function(e){function t(t){for(var n,a,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var s=r[a];0!==o[s]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},a={2:0},o={2:0},i=[];function s(e){return l.p+"js/"+({}[e]||e)+"."+{1:"ec3f9e14",3:"83f4e00c",4:"45395bbf",5:"c096c9a1",6:"10d82405",7:"026cb65a"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(e){var t=[],r={3:1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{1:"31d6cfe0",3:"32e28784",4:"31d6cfe0",5:"31d6cfe0",6:"31d6cfe0",7:"31d6cfe0"}[e]+".css",o=l.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===o))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){c=d[s],u=c.getAttribute("data-href");if(u===n||u===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[e],f.parentNode.removeChild(f),r(i)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=i);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(f);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,r[1](d)}o[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var f=u;i.push([0,0]),r()})({0:function(e,t,r){e.exports=r("2f39")},"2f39":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"setPackageInfo",(function(){return x})),r.d(n,"setTransferInfo",(function(){return $})),r.d(n,"setFiles",(function(){return P})),r.d(n,"setValidation",(function(){return T}));var a={};r.r(a),r.d(a,"fetchDownloadPackage",(function(){return C})),r.d(a,"fetchDownloadFiles",(function(){return F})),r.d(a,"fetchPackageContents",(function(){return R})),r.d(a,"fetchDownloadLink",(function(){return N})),r.d(a,"fetchDownloadZip",(function(){return A})),r.d(a,"cloudTransfer",(function(){return V})),r.d(a,"fetchTransfer",(function(){return B})),r.d(a,"cancelTransfer",(function(){return M})),r.d(a,"verifyConnection",(function(){return G})),r.d(a,"fetchValidation",(function(){return U})),r.d(a,"signup",(function(){return Z}));r("cbcf"),r("2233"),r("2f72"),r("9bee"),r("838b"),r("31cd");var o=r("e832"),i=r("b661"),s=r("8c49"),l=r("f846"),c=r("a7b7"),u=r("c545"),d=r("b2bf"),f=r("f5ae"),m=r("caca");o["a"].use(l["a"],{config:{},lang:i["a"],iconSet:s["a"],plugins:{Loading:c["a"],Notify:u["a"],Dialog:d["a"],Meta:f["a"],LocalStorage:m["a"]}});var g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"q-app"}},[r("router-view")],1)},p=[],h={name:"App",created(){this.setLang()},methods:{setLang(){this.$i18n.locale=this.$route.query.lang||"en"}},watch:{"$route.query.lang"(e){this.setLang()}}},v=h,b=r("a6c2"),y=Object(b["a"])(v,g,p,!1,null,null,null),w=y.exports,k=r("94ea"),_=function(){return{packageInfo:null,transferInfo:null,files:null,validation:null}};function x(e,t){e.packageInfo=t}function $(e,t){e.transferInfo&&(t.access_token=e.transferInfo.access_token),e.transferInfo=t}function P(e,t){e.files=t}function T(e,t){e.validation=t}var O=r("94d5"),q=r("dc80"),j=r("3a6b"),I=r("8cee"),E=r("78a9"),S=r("2885"),L=r("932d"),D=r("b839");async function C({commit:e},{id:t,secret:r,password:n}){var a,o,i;this._vm.$q.loading.show();let s=await q["a"].fetchDownloadPackage(t,r,n);this._vm.$q.loading.hide(),null!==(a=s.branding)&&void 0!==a&&a.primary_color&&L["a"].setBrand("primary",s.branding.primary_color),e("setPackageInfo",s);let l=document.cookie.split("; ").find((e=>e.startsWith("masv-team="))),c="unknown";l&&(c=l.substring(10)),this._vm.$eventTracking.setTeam(c),this._vm.$eventTracking.trackEvent(D["b"].DownloadAppVisited,{package_id:s.id,custom_logo:!(null===(o=s.branding)||void 0===o||!o.logo_url),custom_background:!(null===(i=s.branding)||void 0===i||!i.background_url)})}async function F({commit:e,state:t}){this._vm.$q.loading.show();let{package_id:r,package_token:n}=t.packageInfo,a=await q["a"].fetchDownloadFiles(r,n);this._vm.$q.loading.hide(),e("setFiles",a.results)}async function R({state:e}){let{package_id:t,package_token:r}=e.packageInfo,n=await q["a"].fetchPackageContents(t,r);return new Promise((async(e,t)=>{n.hasError?t():e(n.results)}))}async function N({state:e},t){this._vm.$q.loading.show();let{package_id:r,package_token:n}=e.packageInfo,a=await q["a"].fetchDownloadLink(r,t,n);return this._vm.$q.loading.hide(),a}async function A({state:e},t){this._vm.$q.loading.show();let{package_id:r,package_token:n}=e.packageInfo,a=await q["a"].fetchDownloadZip(r,n,t);return this._vm.$q.loading.hide(),a.hasError&&this._vm.$handleError(this,a,"fetchDownloadZip"),a}async function V({state:e,commit:t},r){this._vm.$q.loading.show();let{package_id:n,package_token:a}=e.packageInfo,o=await q["a"].cloudTransfer(n,a,r);return this._vm.$q.loading.hide(),t("setTransferInfo",o),o}async function B({state:e,commit:t}){let{id:r,access_token:n}=e.transferInfo,a=await j["a"].fetchTransfer(r,n);return t("setTransferInfo",a),a}async function M({state:e}){this._vm.$q.loading.show();let{id:t,access_token:r}=e.transferInfo,n=await j["a"].cancelTransfer(t,r);return this._vm.$q.loading.hide(),n}async function G({state:e},{provider:t,extraPath:r,body:n}){this._vm.$q.loading.show();let{package_id:a,package_token:o}=e.packageInfo,i=await I["a"].verifyConnection(t,r,n,o);return this._vm.$q.loading.hide(),i}async function U({commit:e}){let t=await E["a"].fetchValidation();return t.hasError?(this._vm.$handleError(this,t,"fetchValidation"),null):(e("setValidation",t),t)}async function Z({dispatch:e},t){this._vm.$q.loading.show();let r=await S["a"].signup(t);return new Promise((async(e,t)=>{this._vm.$q.loading.hide(),r.hasError?(t(r),this._vm.$handleError(this,r,"signup")):e(r)}))}o["a"].use(k["a"]);var J=function(){const e=new k["a"].Store({state:_,mutations:n,getters:O,actions:a,strict:!1});return e},W=r("4af9");r("534d");const z=[{path:"/dropbox",component:()=>Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"713b")),children:[{path:"",component:()=>Promise.all([r.e(0),r.e(5)]).then(r.bind(null,"ac8b"))}]},{path:"/onedrive",component:()=>Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"713b")),children:[{path:"",component:()=>Promise.all([r.e(0),r.e(6)]).then(r.bind(null,"9788"))}]},{path:"/sharepoint",component:()=>Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"713b")),children:[{path:"",component:()=>Promise.all([r.e(0),r.e(7)]).then(r.bind(null,"8b22"))}]},{path:"/:id",component:()=>Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"713b")),children:[{path:"",component:()=>Promise.all([r.e(0),r.e(3)]).then(r.bind(null,"8b24"))}]},{path:"*",component:()=>Promise.all([r.e(0),r.e(4)]).then(r.bind(null,"e51e"))}];var H=z;o["a"].use(W["a"]);var Y=function(){const e=new W["a"]({scrollBehavior:()=>({x:0,y:0}),routes:H,mode:"history",base:"/"});return e},K=async function(){const e="function"===typeof J?await J({Vue:o["a"]}):J,t="function"===typeof Y?await Y({Vue:o["a"],store:e}):Y;e.$router=t;const r={router:t,store:e,render:e=>e(w),el:"#q-app"};return{app:r,store:e,router:t}},Q=r("76cf"),X=r("cd93"),ee=r("9729"),te=r("526c");o["a"].filter("humanizeSize",Q["a"]),o["a"].filter("formatDate",X["a"]),o["a"].filter("formatTime",X["c"]),o["a"].filter("formatDateTime",X["b"]),o["a"].filter("calcCost",ee["a"]),o["a"].filter("calcStorage",ee["b"]),o["a"].filter("roundDecimals",ee["c"]),o["a"].filter("pathStartsWith",te["a"]);var re=r("a200");o["a"].prototype.$helpers=re,o["a"].prototype.$eventTracking=new D["c"];var ne=r("8847"),ae=r("7338"),oe=r.n(ae);o["a"].prototype.$axios=oe.a;var ie=r("e972"),se=r.n(ie),le=r("a4d3"),ce=r.n(le),ue=r("d296");o["a"].prototype.$validate=ue;r("22f4");function de(e,t){return[{label:ne["b"].t("dismiss"),color:"yellow",handler:()=>{}},e?{label:ne["b"].t("contact_support"),color:"white",handler:()=>{window.open(`mailto:${e}`)}}:{}]}function fe(e){return[{label:ne["b"].t("dismiss"),color:"yellow",handler:()=>{}},{label:"Upgrade",color:"white",handler:()=>e.$router.push({name:"Upgrade"})}]}function me(e){return[{label:ne["b"].t("dismiss"),color:"yellow",handler:()=>{}},{label:ne["b"].t("contact_support"),color:"white",handler:()=>window.HubSpotConversations.widget.load()}]}o["a"].prototype.$handleError=(e,t,r,n=null)=>{var a;((0==t.httpCode||t.httpCode>=500)&&(r="network",navigator.onLine?t.code=0:t.code=1),ge[r]&&ge[r][t.code])?e._vm.$q.notify({type:"negative",position:"bottom",...ge[r][t.code]({ctx:e,err:t,extra:n})}):e._vm.$q.notify({type:"negative",position:"bottom",message:null!==(a=t.errors)&&void 0!==a&&a.length?t.errors[0].msg:t.message})};let ge={addMembers:{400:function(){let e="Failed to send invitation, team maximum number of user reached!";return{message:e}},402:function({ctx:e}){let t="Failed to send invitation, because the trial has ended",r=0,n=fe(e);return{message:t,timeout:r,actions:n}},503:function(){let e="Oops, that didn't work! Our system is under maintenance right now, please try again later";return{message:e}},601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}}},createConnection:{400:function({ctx:e,err:t}){var r,n;let a={};if(a.message=null!==(r=t.errors)&&void 0!==r&&r.length?t.errors[0].msg||t.errors[0].code:t.message,null!==(n=t.errors)&&void 0!==n&&n.length)for(let o of Object.keys(t.errors))if("subscription_max_cloud_connections"==t.errors[o].code){a.message="Trial cloud integrations limit reached",a.timeout=0,a.actions=fe(e);break}return a}},createLink:{},createPackage:{429:function({ctx:e,extra:t}){let r={timeout:0};return e._vm["billing/isActive"]?(r.message="You have reached your daily upload limit. Contact support to request an increase",r.actions=me(e)):(r.message="You have reached your daily upload limit. Please upgrade to unlock unlimited daily transfers",r.actions=fe(e)),r},601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}}},createPortal:{400:function({ctx:e,err:t}){var r,n;let a={};if(a.message=null!==(r=t.errors)&&void 0!==r&&r.length?t.errors[0].msg:t.message,null!==(n=t.errors)&&void 0!==n&&n.length)for(let o of Object.keys(t.errors))if("package_max_recipients"==t.errors[o].code){a.message="Trial portal limit reached",a.timeout=0,a.actions=fe(e);break}return a},601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}},604:function(){return{message:"Portal domain must be at least 3 characters",caption:"Return to 'General' tab to edit domain",timeout:1e4}}},cloudTransfer:{400:function({ctx:e,err:t}){var r,n;let a={};if(a.message=null!==(r=t.errors)&&void 0!==r&&r.length?t.errors[0].msg:t.message,null!==(n=t.errors)&&void 0!==n&&n.length)for(let o of Object.keys(t.errors))if("package_max_recipients"==t.errors[o].code){a.message="Trial max recipients limit reached",a.timeout=0,a.actions=fe(e);break}return a},402:function({ctx:e,err:t}){var r,n;let a={};if(a.message=null!==(r=t.errors)&&void 0!==r&&r.length?t.errors[0].msg:t.message,null!==(n=t.errors)&&void 0!==n&&n.length)for(let o of Object.keys(t.errors))if("billing_payment_method_required"==t.errors[o].code){a.message="Trial transfer limit reached",a.timeout=0,a.actions=fe(e);break}return a}},initSingleSignOnFlow:{404:function({err:e}){var t,r;let n=null!==(t=e.errors)&&void 0!==t&&t.length?e.errors[0].msg:e.message;if(null!==(r=e.errors)&&void 0!==r&&r.length)for(let a of Object.keys(e.errors))if("not_found"==e.errors[a].code){n=ne["b"].t("sso_not_found");break}return{message:n}}},login:{401:function({ctx:e,err:t,extra:r}){var n,a;let o={};if(o.message=null!==(n=t.errors)&&void 0!==n&&n.length?t.errors[0].msg:t.message,null!==(a=t.errors)&&void 0!==a&&a.length)for(let i of Object.keys(t.errors))switch(t.errors[i].code){case"auth_invalid_credentials":["google","auth0"].includes(r.provider_type)?(o.type="warning",o.message="Looks like you don't have an account",o.timeout=1e4,o.actions=[{label:ne["b"].t("dismiss"),color:"negative",handler:()=>{}},{label:ne["b"].t("sign_up"),color:"primary",handler:()=>window.location.href="https://get.massive.app/signup"}]):o.message=ne["b"].t("bad_email_password");break;case"sso_login_required":o.type="negative",o.message="SSO login is required for your team",o.timeout=1e4;break}return o}},network:{0:function({ctx:e,err:t}){let r="support@masv.io";return{message:ne["b"].t("technical_difficulty",{email:r}),timeout:0,actions:de(r,e)}},1:function({ctx:e,err:t}){return{message:"It appears you have no internet, try again after your network problem is resolved",timeout:0,actions:de(!1,e)}}},resendDownloadLink:{401:function(){return{message:"Invalid token to resend link"}},404:function(){return{message:"Link does not exist anymore"}},403:function(){return{message:"We cannot send an email for this link type"}}},sendReferrals:{601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}}},sendUploadRequest:{601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}}},signup:{400:function({err:e}){var t,r;let n=null!==(t=e.errors)&&void 0!==t&&t.length?e.errors[0].msg:e.message;if(null!==(r=e.errors)&&void 0!==r&&r.length)for(let a of Object.keys(e.errors))if("user_invalid_email"==e.errors[a].code){n=ne["b"].t("invalid_email");break}return{message:n}},429:function({err:e}){var t,r;let n=null!==(t=e.errors)&&void 0!==t&&t.length?e.errors[0].msg:e.message;if(null!==(r=e.errors)&&void 0!==r&&r.length)for(let a of Object.keys(e.errors))if("auth_too_many_signups"==e.errors[a].code){n="Too many sign up attempts. Please try again later";break}return{message:n}}},signupReferral:{429:function({err:e}){var t,r;let n=null!==(t=e.errors)&&void 0!==t&&t.length?e.errors[0].msg:e.message;if(null!==(r=e.errors)&&void 0!==r&&r.length)for(let a of Object.keys(e.errors))if("auth_too_many_signups"==e.errors[a].code){n="Too many sign up attempts. Please try again later";break}return{message:n}}},signupTeam:{429:function({err:e}){var t,r;let n=null!==(t=e.errors)&&void 0!==t&&t.length?e.errors[0].msg:e.message;if(null!==(r=e.errors)&&void 0!==r&&r.length)for(let a of Object.keys(e.errors))if("auth_too_many_signups"==e.errors[a].code){n="Too many sign up attempts. Please try again later";break}return{message:n}}},updateEmail:{400:function({ctx:e,err:t}){var r,n;let a=null!==(r=t.errors)&&void 0!==r&&r.length?t.errors[0].msg:t.message;if(null!==(n=t.errors)&&void 0!==n&&n.length)for(let o of Object.keys(t.errors))if("duplicate"==t.errors[o].code){a="Email is already in use";break}return{message:a}},601:function({extra:e}){return{message:`${e.email} is an invalid email`}}},updatePortal:{400:function({ctx:e,err:t}){var r,n;let a={};if(a.message=null!==(r=t.errors)&&void 0!==r&&r.length?t.errors[0].msg:t.message,null!==(n=t.errors)&&void 0!==n&&n.length)for(let o of Object.keys(t.errors))if("package_max_recipients"==t.errors[o].code){a.message="Trial portal limit reached",a.timeout=0,a.actions=fe(e);break}return a},601:function({extra:e}){let t;return t=e.recipient?`${e.recipient} is an invalid email`:"Recipients contains an invalid email",{message:t}},604:function(){return{message:"Portal domain must be at least 3 characters",caption:"Return to 'General' tab to edit domain",timeout:1e4}}},updateTeam:{402:function({ctx:e,err:t}){var r;let n={};return n.message=null!==(r=t.errors)&&void 0!==r&&r.length?t.errors[0].msg:t.message,n.message="Trial ended",n.timeout=0,n.actions=fe(e),n}},uploadImage:{400:function({ctx:e,err:t}){return{message:"Invalid image type. SVGs must contain an xml tag",timeout:1e4}}}};const pe="/";async function he(){const{app:e,store:t,router:r}=await K();let n=!1;const a=e=>{n=!0;const t=Object(e)===e?r.resolve(e).route.fullPath:e;window.location.href=t},i=window.location.href.replace(window.location.origin,""),s=[void 0,void 0,void 0,ne["a"],void 0,se.a,ce.a,void 0,void 0];for(let c=0;!1===n&&c<s.length;c++)if("function"===typeof s[c])try{await s[c]({app:e,router:r,store:t,Vue:o["a"],ssrContext:null,redirect:a,urlPath:i,publicPath:pe})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==n&&new o["a"](e)}he()},"31cd":function(e,t,r){},8847:function(e,t,r){"use strict";r.d(t,"b",(function(){return l}));var n=r("e832"),a=r("2726"),o=r("c631"),i=r("caca");n["a"].use(a["a"]);const s=i["a"].getItem("locale")||"en",l=new a["a"]({locale:s,fallbackLocale:"en",messages:o["a"]});Number.prototype.toFixedOld=Number.prototype.toFixed,Number.prototype.toFixed=function(e){return this.toLocaleString("no_language"==l.locale?"en":l.locale,{minimumFractionDigits:e,maximumFractionDigits:e})},t["a"]=({app:e})=>{e.i18n=l}},"94d5":function(e,t){},a4d3:function(e,t){"/impersonate"!=window.location.pathname&&function(e,t,r,n,a){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=t.getElementsByTagName(r)[0],i=t.createElement(r),s="dataLayer"!=n?"&l="+n:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+a+s,o.parentNode.insertBefore(i,o)}(window,document,"script","dataLayer","GTM-TJZR5SS")},e972:function(e,t){let r=document.createElement("script");r.setAttribute("src","https://accounts.google.com/gsi/client"),document.head.appendChild(r)}});